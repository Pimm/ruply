function checkThenable(a){try{var b=a.then;}catch(a){return !1}return "function"==typeof b}var splice=[].splice;function build(a,b,c){return Object.defineProperty(function a(d,e){if("function"!=typeof e)throw new TypeError(e+" is not a function");var f,g=this,h=arguments;return checkThenable(d)?d.then(function(b){return h[0]=b,a.apply(g,h)}):(f=c&&null==d?d:b.call(g,d,e),2<h.length?(splice.call(h,0,2,f),a.apply(g,h)):f)},"name",{value:a,configurable:!0})}function runLogic(a,b){return b.call(this,a)}function applyLogic(a,b,c){return checkThenable(c=b.call(this,a))?c.then(function(){return a}):a}var run=build("run",runLogic),runIf=build("runIf",runLogic,!0),apply=build("apply",applyLogic),applyIf=build("applyIf",applyLogic,!0);export{apply,applyIf,run,runIf};