function checkThenable(a){try{var b=a.then;}catch(a){return !1}return "function"==typeof b}var splice=[].splice;function build(a,b,c){function d(a,e){if("function"!=typeof e)throw new TypeError(e+" is not a function");var f,g=this,h=arguments;return checkThenable(a)?a.then(function(a){return h[0]=a,d.apply(g,h)}):(f=b.call(g,a,c&&null==a?void 0:e),2<h.length?(splice.call(h,0,2,f),d.apply(g,h)):f)}return Object.defineProperty(d,"name",{value:a,configurable:!0}),d}var runLogic=function(a,b){return b?b.call(this,a):a},applyLogic=function(a,b,c){return b&&checkThenable(c=b.call(this,a))?c.then(function(){return a}):a};var run=build("run",runLogic),runIf=build("runIf",runLogic,!0),apply=build("apply",applyLogic),applyIf=build("applyIf",applyLogic,!0);export{apply,applyIf,run,runIf};