'use strict';Object.defineProperty(exports,'__esModule',{value:true});function checkThenable(a){try{var b=a.then;}catch(a){return !1}return "function"==typeof b}function build(a,b){function c(a,d){var e=this;if("function"!=typeof d)throw new TypeError(d+" is not a function");return checkThenable(a)?a.then(function(a){return c.call(e,a,d)}):b.call(e,a,d)}return Object.defineProperty(c,"name",{value:a,configurable:!0}),c}var run=build("run",function(a,b){return null==a?a:b.call(this,a)});var apply=build("apply",function(a,b){return null!=a&&checkThenable(b=b.call(this,a))?b.then(function(){return a}):a});exports.apply=apply;exports.run=run;